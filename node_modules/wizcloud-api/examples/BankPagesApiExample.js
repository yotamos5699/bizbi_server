////////////////////////////////////////////////////////////basic required code 
//Must to configure private data on apiConfig.js file
const wizlib = require("wizcloud-api");
var fs   = require('fs');
var myObjData;
			try{
				myObjData=JSON.parse(fs.readFileSync('apiConfig.js'));
			}catch(e){ //no config file take from fs
				console.log(e);				
      }
var myDBname=myObjData.WizcloudApiDBName;
wizlib.init(myObjData.WizcloudApiPrivateKey, myObjData.WizcloudApiServer);
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Jason data example- client responsibility

let trans = [
	{
		AccountKey: "777",
		Reference: "123",
		Details: "trans details",
		DatF:"31/10/2019",
		SuF:"1234.56",
		CreditDebit:"0"
	},
	{
		AccountKey: "777",
		Reference: "125",
		Details: "trans details 111",
		DatF:"28/10/2019",
		SuF:"55123",
		CreditDebit:"1"
	}
];


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//Api methods
async function importBankPageRecords(){
	let apiRes = await wizlib.importBankPageRecords(myDBname, {rows: trans });
	console.log(apiRes);
	fs.writeFile('myApiRes.txt', JSON.stringify(apiRes), (err) => {
    if (err) throw err;
		console.log('See resaults in myApiRes.txt');
	});
}

importBankPageRecords();

